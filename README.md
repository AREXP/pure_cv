# pure_cv

Тестовое задание для https://gist.github.com/gsamat/6465c15e4dbd67d3334244f1496ac75b


> чтобы поняли даже те кто докер никогда не видел.

Установите docker-compose, если еще не – https://docs.docker.com/compose/install/

Склонируйте этот репозиторий и перейдите в диру с ним.

### Запуск ~~завтра~~ сервера

Запустить сервер можно командой `docker-compose up`.
После того, как увидете следующую строку, то можно делать запросы на `localhost:8080`
```
...
backend_1   | DEBUG:asyncio:Using selector: EpollSelector
```

На данный момент есть две ручки:

**GET /ping**

В идеале всегда должна возвращать 200


**POST /api/me**

С телом `{"online": true}`

И авторизацией вида `{"token": <your_auth_token>}`

Может возвращать следующие статусы:
- 200 ОК
- 400 – неверное тело запроса
- 401 – не передан токен авторизации или он имеет falsy значение
- 429 – Превышен лимит запросов, попробуйте позже

### Запуск тестов

Тесты запускаются командой  `docker-compose -f docker-compose.test.yaml run backend` из той же корневой диры

### Троттлинг
Троттлинг задается секцией `throttle_limits` конфига, который записан в файле `config.json`(аналогично и для тестов – `config.test.json`)
